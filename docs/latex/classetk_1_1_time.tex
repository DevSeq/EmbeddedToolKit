\hypertarget{classetk_1_1_time}{\section{etk\-:\-:Time Class Reference}
\label{classetk_1_1_time}\index{etk\-::\-Time@{etk\-::\-Time}}
}


\hyperlink{classetk_1_1_time}{Time} is a class that can be used to perform time related functions such as counting systicks.  




{\ttfamily \#include $<$time.\-h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classetk_1_1_time_a4a1745140f96049c2465678511889cf1}{{\bfseries Time} (\hyperlink{classetk_1_1_time}{Time} \&d)}\label{classetk_1_1_time_a4a1745140f96049c2465678511889cf1}

\item 
\hypertarget{classetk_1_1_time_acf7be97d9be2fa34c3d3a0615dbb0723}{{\bfseries Time} (volatile \hyperlink{classetk_1_1_time}{Time} \&d)}\label{classetk_1_1_time_acf7be97d9be2fa34c3d3a0615dbb0723}

\item 
\hypertarget{classetk_1_1_time_acb4ed167da8affc51be79856cee22c29}{{\bfseries Time} (const \hyperlink{classetk_1_1_time}{Time} \&d)}\label{classetk_1_1_time_acb4ed167da8affc51be79856cee22c29}

\item 
\hypertarget{classetk_1_1_time_ae78299592e099de6b3ea68399a88157b}{\hyperlink{classetk_1_1_time}{Time} \& {\bfseries operator=} (const \hyperlink{classetk_1_1_time}{Time} \&d) volatile}\label{classetk_1_1_time_ae78299592e099de6b3ea68399a88157b}

\item 
real\-\_\-t \hyperlink{classetk_1_1_time_a28a06c9d23c9a67d1a1bfcde18c4d026}{diff\-\_\-time} (\hyperlink{classetk_1_1_time}{Time} then)
\begin{DoxyCompactList}\small\item\em Calculates the difference between two Times in seconds. \end{DoxyCompactList}\item 
\hypertarget{classetk_1_1_time_a3afe52490cb579e0b1c7c6341dd4abab}{real\-\_\-t {\bfseries diff\-\_\-time} (\hyperlink{classetk_1_1_time}{Time} then) volatile}\label{classetk_1_1_time_a3afe52490cb579e0b1c7c6341dd4abab}

\item 
\hypertarget{classetk_1_1_time_a38df737d74c4e116c12e00f80e0cbb15}{real\-\_\-t \hyperlink{classetk_1_1_time_a38df737d74c4e116c12e00f80e0cbb15}{diff\-\_\-time\-\_\-ms} (\hyperlink{classetk_1_1_time}{Time} then)}\label{classetk_1_1_time_a38df737d74c4e116c12e00f80e0cbb15}

\begin{DoxyCompactList}\small\item\em Same as \hyperlink{classetk_1_1_time_a28a06c9d23c9a67d1a1bfcde18c4d026}{Time\-::diff\-\_\-time} but the return value is in milliseconds rather than seconds. \end{DoxyCompactList}\item 
\hypertarget{classetk_1_1_time_af647565d37e52ce0fbb12e48a4cec0fb}{real\-\_\-t {\bfseries diff\-\_\-time\-\_\-ms} (\hyperlink{classetk_1_1_time}{Time} then) volatile}\label{classetk_1_1_time_af647565d37e52ce0fbb12e48a4cec0fb}

\item 
\hypertarget{classetk_1_1_time_ab38fb137fe9e0477c2dcc4eae12d05c9}{void \hyperlink{classetk_1_1_time_ab38fb137fe9e0477c2dcc4eae12d05c9}{setnull} ()}\label{classetk_1_1_time_ab38fb137fe9e0477c2dcc4eae12d05c9}

\begin{DoxyCompactList}\small\item\em Sets the time instance to zero. \end{DoxyCompactList}\item 
\hypertarget{classetk_1_1_time_af0d9e8da96c5eb92811a6ec239b9ffa5}{void {\bfseries setnull} () volatile}\label{classetk_1_1_time_af0d9e8da96c5eb92811a6ec239b9ffa5}

\item 
\hypertarget{classetk_1_1_time_a1728c210b6e053548d5de2d7b8fd91f4}{bool \hyperlink{classetk_1_1_time_a1728c210b6e053548d5de2d7b8fd91f4}{is\-\_\-nulltime} ()}\label{classetk_1_1_time_a1728c210b6e053548d5de2d7b8fd91f4}

\begin{DoxyCompactList}\small\item\em Returns true is the time is zero. \end{DoxyCompactList}\item 
\hypertarget{classetk_1_1_time_ad04d01890c9d5519966532873aa54255}{bool {\bfseries is\-\_\-nulltime} () volatile}\label{classetk_1_1_time_ad04d01890c9d5519966532873aa54255}

\item 
\hypertarget{classetk_1_1_time_a5cb525e51fd81234d6455b1ee99aa756}{uint32 \& \hyperlink{classetk_1_1_time_a5cb525e51fd81234d6455b1ee99aa756}{seconds} ()}\label{classetk_1_1_time_a5cb525e51fd81234d6455b1ee99aa756}

\begin{DoxyCompactList}\small\item\em Returns a reference to the seconds counter. \end{DoxyCompactList}\item 
\hypertarget{classetk_1_1_time_a85063099154660cd7eb4400cf2d384bb}{uint32 \& \hyperlink{classetk_1_1_time_a85063099154660cd7eb4400cf2d384bb}{micros} ()}\label{classetk_1_1_time_a85063099154660cd7eb4400cf2d384bb}

\begin{DoxyCompactList}\small\item\em Returns a reference to the microsecond counter. \end{DoxyCompactList}\item 
\hypertarget{classetk_1_1_time_a04af12dcd38687beaaacfca981f58b84}{volatile uint32 \& {\bfseries seconds} () volatile}\label{classetk_1_1_time_a04af12dcd38687beaaacfca981f58b84}

\item 
\hypertarget{classetk_1_1_time_a43d5f8a971624ca74a35974edcf8049d}{volatile uint32 \& {\bfseries micros} () volatile}\label{classetk_1_1_time_a43d5f8a971624ca74a35974edcf8049d}

\item 
void \hyperlink{classetk_1_1_time_af0fabd9a7c37abd196d6c4ea480c7aa4}{to\-\_\-rope} (\hyperlink{classetk_1_1_rope}{Rope} \&r)
\begin{DoxyCompactList}\small\item\em Converts the time to days, hours, minutes and seconds and turns it into a string using a \hyperlink{classetk_1_1_rope}{Rope}. The original contents of the \hyperlink{classetk_1_1_rope}{Rope} will be erased. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classetk_1_1_time_a873dd91783f9efb4a590aded1f70d6b0}{void \hyperlink{classetk_1_1_time_a873dd91783f9efb4a590aded1f70d6b0}{tick} ()}\label{classetk_1_1_time_a873dd91783f9efb4a590aded1f70d6b0}

\begin{DoxyCompactList}\small\item\em Increments the systick counter by the tick rate (\hyperlink{namespaceetk_a67a8e6e6151a851c1709268b8eff2aa4}{set\-\_\-tick\-\_\-rate()}; ) \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hyperlink{classetk_1_1_time}{Time} is a class that can be used to perform time related functions such as counting systicks. 

\href{http://www.camelsoftware.com/2015/12/24/etk-time/}{\tt http\-://www.\-camelsoftware.\-com/2015/12/24/etk-\/time/}

A simple 32bit systick counter with microsecond precision will roll over in a matter of hours. The \hyperlink{classetk_1_1_time}{Time} class counts both seconds and microseconds. This multiplies the roll over time by a million, which means it won't roll over for 120 years. Some say systick roll over is easy to work around, but some haven't had to debug a fault that only occurs once per 12 hours \-:-\/).

In addition to counting systicks, the \hyperlink{classetk_1_1_time}{Time} class provides a number of other convenient functions such as \hyperlink{classetk_1_1_time_a28a06c9d23c9a67d1a1bfcde18c4d026}{diff\-\_\-time()};, \hyperlink{namespaceetk_a79ddc21fd043dd193576bef72c352057}{sleep\-\_\-ms()}; and \hyperlink{classetk_1_1_time_af0fabd9a7c37abd196d6c4ea480c7aa4}{to\-\_\-rope()}; 

\subsection{Member Function Documentation}
\hypertarget{classetk_1_1_time_a28a06c9d23c9a67d1a1bfcde18c4d026}{\index{etk\-::\-Time@{etk\-::\-Time}!diff\-\_\-time@{diff\-\_\-time}}
\index{diff\-\_\-time@{diff\-\_\-time}!etk::Time@{etk\-::\-Time}}
\subsubsection[{diff\-\_\-time}]{\setlength{\rightskip}{0pt plus 5cm}real\-\_\-t etk\-::\-Time\-::diff\-\_\-time (
\begin{DoxyParamCaption}
\item[{{\bf Time}}]{then}
\end{DoxyParamCaption}
)}}\label{classetk_1_1_time_a28a06c9d23c9a67d1a1bfcde18c4d026}


Calculates the difference between two Times in seconds. 


\begin{DoxyCode}
Time then = Time::now();
Time::sleep\_ms(500);
real\_t diff = Time::now().diff\_time(then);
\textcolor{comment}{//diff = 0.5}
\end{DoxyCode}
  then \hyperlink{classetk_1_1_time}{Time} to compare to. \begin{DoxyReturn}{Returns}
Difference in times in seconds. 
\end{DoxyReturn}
\hypertarget{classetk_1_1_time_af0fabd9a7c37abd196d6c4ea480c7aa4}{\index{etk\-::\-Time@{etk\-::\-Time}!to\-\_\-rope@{to\-\_\-rope}}
\index{to\-\_\-rope@{to\-\_\-rope}!etk::Time@{etk\-::\-Time}}
\subsubsection[{to\-\_\-rope}]{\setlength{\rightskip}{0pt plus 5cm}void etk\-::\-Time\-::to\-\_\-rope (
\begin{DoxyParamCaption}
\item[{{\bf Rope} \&}]{r}
\end{DoxyParamCaption}
)}}\label{classetk_1_1_time_af0fabd9a7c37abd196d6c4ea480c7aa4}


Converts the time to days, hours, minutes and seconds and turns it into a string using a \hyperlink{classetk_1_1_rope}{Rope}. The original contents of the \hyperlink{classetk_1_1_rope}{Rope} will be erased. 


\begin{DoxyCode}
\textcolor{keywordtype}{char} buf[60];
\hyperlink{classetk_1_1_rope}{etk::Rope} rope(buf, 60);
etk::Time::now().to\_rope(rope);
\textcolor{comment}{//buf will now contain something like '3 days, 2 hours, 45 minutes, 12 seconds'}
\end{DoxyCode}
 

The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
inc/etk/time.\-h\end{DoxyCompactItemize}
