\hypertarget{classetk_1_1_p_i_d_controller}{\section{etk\-:\-:P\-I\-D\-Controller Class Reference}
\label{classetk_1_1_p_i_d_controller}\index{etk\-::\-P\-I\-D\-Controller@{etk\-::\-P\-I\-D\-Controller}}
}


A generic \hyperlink{classetk_1_1_p_i_d_controller}{P\-I\-D\-Controller}. \href{https://en.wikipedia.org/wiki/PID_controller}{\tt https\-://en.\-wikipedia.\-org/wiki/\-P\-I\-D\-\_\-controller}.  




{\ttfamily \#include $<$pid.\-h$>$}

Inheritance diagram for etk\-:\-:P\-I\-D\-Controller\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classetk_1_1_p_i_d_controller}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
real\-\_\-t \hyperlink{classetk_1_1_p_i_d_controller_af9e7e48086781b0060dd14ed6c9e135b}{step} (real\-\_\-t error, real\-\_\-t dt)
\begin{DoxyCompactList}\small\item\em Perform an interation of the P\-I\-D controller by supplying your own error value. \end{DoxyCompactList}\item 
real\-\_\-t \hyperlink{classetk_1_1_p_i_d_controller_ac17af5228b2cb3817cf72faccbdc4cd0}{step} (real\-\_\-t setpoint, real\-\_\-t measurement, real\-\_\-t dt)
\begin{DoxyCompactList}\small\item\em Perform an interation of the P\-I\-D controller using a setpoint and measurement to calculate the error. \end{DoxyCompactList}\item 
\hypertarget{classetk_1_1_p_i_d_controller_a73aecfcfe6e450178af4ec276abe8086}{void \hyperlink{classetk_1_1_p_i_d_controller_a73aecfcfe6e450178af4ec276abe8086}{set\-\_\-kp} (real\-\_\-t kp)}\label{classetk_1_1_p_i_d_controller_a73aecfcfe6e450178af4ec276abe8086}

\begin{DoxyCompactList}\small\item\em Sets the proportional gain of the controller. \end{DoxyCompactList}\item 
\hypertarget{classetk_1_1_p_i_d_controller_a6112e212a37ed7a2950c62f558cc489c}{void \hyperlink{classetk_1_1_p_i_d_controller_a6112e212a37ed7a2950c62f558cc489c}{set\-\_\-ki} (real\-\_\-t ki)}\label{classetk_1_1_p_i_d_controller_a6112e212a37ed7a2950c62f558cc489c}

\begin{DoxyCompactList}\small\item\em Sets the integral gain of the controller. This functional also scales the integral so that there is no large disturbance to the output. \end{DoxyCompactList}\item 
\hypertarget{classetk_1_1_p_i_d_controller_a1e5de9c92d5ceb2d1a94c87e1f118631}{void \hyperlink{classetk_1_1_p_i_d_controller_a1e5de9c92d5ceb2d1a94c87e1f118631}{set\-\_\-kd} (real\-\_\-t kd)}\label{classetk_1_1_p_i_d_controller_a1e5de9c92d5ceb2d1a94c87e1f118631}

\begin{DoxyCompactList}\small\item\em Sets the derivative gain. \end{DoxyCompactList}\item 
\hypertarget{classetk_1_1_p_i_d_controller_a438f51c529a8171b3c18d564461add26}{real\-\_\-t {\bfseries get\-\_\-kp} ()}\label{classetk_1_1_p_i_d_controller_a438f51c529a8171b3c18d564461add26}

\item 
\hypertarget{classetk_1_1_p_i_d_controller_af6d39b029c8ad621acbabf36425268dd}{real\-\_\-t {\bfseries get\-\_\-ki} ()}\label{classetk_1_1_p_i_d_controller_af6d39b029c8ad621acbabf36425268dd}

\item 
\hypertarget{classetk_1_1_p_i_d_controller_a69fd9c40b85ddba301a7acc5ba658255}{real\-\_\-t {\bfseries get\-\_\-kd} ()}\label{classetk_1_1_p_i_d_controller_a69fd9c40b85ddba301a7acc5ba658255}

\item 
\hypertarget{classetk_1_1_p_i_d_controller_a02af725f99fb1e0131674f7602fd635e}{void \hyperlink{classetk_1_1_p_i_d_controller_a02af725f99fb1e0131674f7602fd635e}{reset\-\_\-integral} ()}\label{classetk_1_1_p_i_d_controller_a02af725f99fb1e0131674f7602fd635e}

\begin{DoxyCompactList}\small\item\em Sets the integral to zero. \end{DoxyCompactList}\item 
\hypertarget{classetk_1_1_p_i_d_controller_a19b27067a3b56846245b8ca14919e98b}{void \hyperlink{classetk_1_1_p_i_d_controller_a19b27067a3b56846245b8ca14919e98b}{set\-\_\-max\-\_\-integral} (real\-\_\-t imax)}\label{classetk_1_1_p_i_d_controller_a19b27067a3b56846245b8ca14919e98b}

\begin{DoxyCompactList}\small\item\em Sets a maximum size for the integral. This can help prevent integral wind up. \end{DoxyCompactList}\item 
\hypertarget{classetk_1_1_p_i_d_controller_a023f411018741e4c1265284de78b5f53}{void \hyperlink{classetk_1_1_p_i_d_controller_a023f411018741e4c1265284de78b5f53}{set\-\_\-derivative\-\_\-filter\-\_\-gain} (real\-\_\-t g)}\label{classetk_1_1_p_i_d_controller_a023f411018741e4c1265284de78b5f53}

\begin{DoxyCompactList}\small\item\em Sets the derivative filter gain. The derivative filter is an \hyperlink{classetk_1_1_expo_moving_avg}{Expo\-Moving\-Avg} filter. \end{DoxyCompactList}\item 
\hypertarget{classetk_1_1_p_i_d_controller_a25ba04e64f94802a65bc464e3b364595}{real\-\_\-t \hyperlink{classetk_1_1_p_i_d_controller_a25ba04e64f94802a65bc464e3b364595}{get\-\_\-integral} ()}\label{classetk_1_1_p_i_d_controller_a25ba04e64f94802a65bc464e3b364595}

\begin{DoxyCompactList}\small\item\em Returns the integral value. \end{DoxyCompactList}\item 
\hypertarget{classetk_1_1_p_i_d_controller_acb730031d516c2324ea5f735ae5b438d}{void \hyperlink{classetk_1_1_p_i_d_controller_acb730031d516c2324ea5f735ae5b438d}{set\-\_\-integral} (real\-\_\-t integ)}\label{classetk_1_1_p_i_d_controller_acb730031d516c2324ea5f735ae5b438d}

\begin{DoxyCompactList}\small\item\em Sets the integral value. U\-S\-E W\-I\-T\-H C\-A\-U\-T\-I\-O\-N. Suddenly changing the integral will suddenly change the output. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classetk_1_1_p_i_d_controller_a8e71515e4e16b112002214af79c11a1a}{real\-\_\-t {\bfseries integral}}\label{classetk_1_1_p_i_d_controller_a8e71515e4e16b112002214af79c11a1a}

\item 
\hypertarget{classetk_1_1_p_i_d_controller_a19b46ebbea3393181e911e8e58fdeddb}{real\-\_\-t {\bfseries Kp}}\label{classetk_1_1_p_i_d_controller_a19b46ebbea3393181e911e8e58fdeddb}

\item 
\hypertarget{classetk_1_1_p_i_d_controller_aa8250f45b88af74887e8e35074a558d5}{real\-\_\-t {\bfseries Ki}}\label{classetk_1_1_p_i_d_controller_aa8250f45b88af74887e8e35074a558d5}

\item 
\hypertarget{classetk_1_1_p_i_d_controller_a24c0abfcf440a7198c70fa7591299daf}{real\-\_\-t {\bfseries Kd}}\label{classetk_1_1_p_i_d_controller_a24c0abfcf440a7198c70fa7591299daf}

\item 
\hypertarget{classetk_1_1_p_i_d_controller_a5ad94c73ac49a5ab7dc0792d0856319c}{real\-\_\-t {\bfseries integral\-\_\-constraint}}\label{classetk_1_1_p_i_d_controller_a5ad94c73ac49a5ab7dc0792d0856319c}

\item 
\hypertarget{classetk_1_1_p_i_d_controller_a0c791c5663de648256850318f89b70c1}{\hyperlink{classetk_1_1_expo_moving_avg}{Expo\-Moving\-Avg} {\bfseries der\-\_\-filter}}\label{classetk_1_1_p_i_d_controller_a0c791c5663de648256850318f89b70c1}

\item 
\hypertarget{classetk_1_1_p_i_d_controller_a52d7c2dd196497f2543965e4473e017d}{real\-\_\-t {\bfseries previous\-\_\-error}}\label{classetk_1_1_p_i_d_controller_a52d7c2dd196497f2543965e4473e017d}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
A generic \hyperlink{classetk_1_1_p_i_d_controller}{P\-I\-D\-Controller}. \href{https://en.wikipedia.org/wiki/PID_controller}{\tt https\-://en.\-wikipedia.\-org/wiki/\-P\-I\-D\-\_\-controller}. 

\subsection{Member Function Documentation}
\hypertarget{classetk_1_1_p_i_d_controller_af9e7e48086781b0060dd14ed6c9e135b}{\index{etk\-::\-P\-I\-D\-Controller@{etk\-::\-P\-I\-D\-Controller}!step@{step}}
\index{step@{step}!etk::PIDController@{etk\-::\-P\-I\-D\-Controller}}
\subsubsection[{step}]{\setlength{\rightskip}{0pt plus 5cm}real\-\_\-t etk\-::\-P\-I\-D\-Controller\-::step (
\begin{DoxyParamCaption}
\item[{real\-\_\-t}]{error, }
\item[{real\-\_\-t}]{dt}
\end{DoxyParamCaption}
)}}\label{classetk_1_1_p_i_d_controller_af9e7e48086781b0060dd14ed6c9e135b}


Perform an interation of the P\-I\-D controller by supplying your own error value. 

\begin{DoxyItemize}
\item error Some pre-\/calculated error value. \item dt \hyperlink{classetk_1_1_time}{Time} period since the last iteration. \begin{DoxyReturn}{Returns}
Control output. 
\end{DoxyReturn}
\end{DoxyItemize}
\hypertarget{classetk_1_1_p_i_d_controller_ac17af5228b2cb3817cf72faccbdc4cd0}{\index{etk\-::\-P\-I\-D\-Controller@{etk\-::\-P\-I\-D\-Controller}!step@{step}}
\index{step@{step}!etk::PIDController@{etk\-::\-P\-I\-D\-Controller}}
\subsubsection[{step}]{\setlength{\rightskip}{0pt plus 5cm}real\-\_\-t etk\-::\-P\-I\-D\-Controller\-::step (
\begin{DoxyParamCaption}
\item[{real\-\_\-t}]{setpoint, }
\item[{real\-\_\-t}]{measurement, }
\item[{real\-\_\-t}]{dt}
\end{DoxyParamCaption}
)}}\label{classetk_1_1_p_i_d_controller_ac17af5228b2cb3817cf72faccbdc4cd0}


Perform an interation of the P\-I\-D controller using a setpoint and measurement to calculate the error. 

\begin{DoxyItemize}
\item setpoint The setpoint \item measurement The measurement \item dt \hyperlink{classetk_1_1_time}{Time} period since the last iteration. \begin{DoxyReturn}{Returns}
Control output. 
\end{DoxyReturn}
\end{DoxyItemize}


The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
inc/etk/pid.\-h\end{DoxyCompactItemize}
